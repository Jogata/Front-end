<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Travel v.2</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,400,0,0" />
    <link rel="stylesheet" href="./css/styles-travel-v2.css">
</head>
<body>
    <!-- skewed banner -->
    <section id="skewed-banner">
        <div class="skewbox">
            <div class="content">
                <h2>amanda renj</h2>
                <p>Lorem ipsum, dolor sit amet consectetur adipisicing elit. Modi nisi accusamus pariatur! Facere perspiciatis sed delectus doloremque, nostrum voluptate accusantium necessitatibus deleniti explicabo provident est sunt qui quaerat, voluptatem non sint nihil corrupti repellendus distinctio mollitia laudantium adipisci itaque illo! Qui voluptate quis eius et aliquam laboriosam eos ipsa. Iste a magni consequatur voluptatum officia fugit obcaecati totam, corporis autem culpa maxime nostrum maiores eligendi omnis ipsam explicabo nesciunt veniam doloremque.</p>
            </div>
            <div class="imagebox"></div>
        </div>
    </section>

    <!-- slider whitout IF statement -->
    <div id="slider3">
        <div class="container-slider">
            <div class="slider" id="slider">
                <div class="slider__section">
                    <img src="../../../Sliders/img/germany-area-building_1680x1050.jpg" alt="" class="slider__img">
                </div>
                <div class="slider__section">
                    <img src="../../../Sliders/img/Edinburgh.jpg" alt="" class="slider__img">
                </div>
                <div class="slider__section">
                    <img src="../../../Sliders/img/mountain-in-meteora-greece_1920x1080.jpg" alt="" class="slider__img">
                </div>
                <div class="slider__section">
                    <img src="../../../Sliders/img/toscana-italy.jpg" alt="" class="slider__img">
                </div>
            </div>
            <div class="slider__btn slider__btn--left">l</div>
            <div class="slider__btn slider__btn--right">r</div>
        </div>
    </div>
    <script>
        let slider = document.getElementById("slider");
        let sliderSection = document.getElementsByClassName("slider__section");
        let sliderSectionLast = sliderSection[sliderSection.length - 1];

        slider.insertAdjacentElement("afterbegin", sliderSectionLast);

        setInterval(nextSlider, 5000);

        const buttonPrevSlide = document.getElementsByClassName("slider__btn--left")[0];
        buttonPrevSlide.addEventListener("click", function() {
            prevSlider();
        });
        // buttonPrevSlide.addEventListener("click", prevSlider);
        
        function prevSlider() {
            let sliderSection = document.getElementsByClassName("slider__section");
            let sliderSectionLast = sliderSection[sliderSection.length - 1];
            slider.style.marginLeft = "0";
            slider.style.transition = "all 0.5s";
            setTimeout(function() {
                slider.style.transition = "none";
                slider.insertAdjacentElement("afterbegin", sliderSectionLast);
                slider.style.marginLeft = "-100%";
            }, 500);
        };
        
        const buttonNextSlide = document.getElementsByClassName("slider__btn--right")[0];
        buttonNextSlide.addEventListener("click", function() {
            nextSlider();
        });
        // buttonNextSlide.addEventListener("click", nextSlider);

        function nextSlider() {
            let sliderSectionFirst = document.getElementsByClassName("slider__section")[0];
            slider.style.marginLeft = "-200%";
            slider.style.transition = "all 0.5s";
            setTimeout(function() {
                slider.style.transition = "none";
                slider.insertAdjacentElement("beforeend", sliderSectionFirst);
                slider.style.marginLeft = "-100%";
            }, 500);
        };
    </script>

    <!-- --------------------------------------------- virtual keyboard v.2 --------------------------------------------- -->
    <textarea style="position: absolute; top: 130px; right: 30px; width: 300px;" class="use use-keyboard-input"></textarea>

    <!-- <div class="keyboard">
        <div class="keyboard__keys">
            <button type="button" class="keyboard__key">a</button>
            <button type="button" class="keyboard__key keyboard__key--wide">
                <i class="material-icons">backspace</i>
            </button>
            <button type="button" class="keyboard__key keyboard__key--extra-wide">
                <i class="material-symbols-outlined">space_bar</i>
            </button>
            <button type="button" class="keyboard__key keyboard__key--wide keyboard__key--activatable">
                <i class="material-symbols-outlined">keyboard_capslock</i>
            </button>
            <button type="button" class="keyboard__key keyboard__key--wide keyboard__key--dark">
                <i class="material-icons">check_circle</i>
            </button>
        </div>
    </div> -->
    <script>
        const Keyboard = {
            elements: {
                main: null,
                keysContainer: null,
                keys: [],
            },
            eventHandlers: {
                oninput: null,
                onclose: null,
            },
            properties: {
                value: "",
                capsLock: false,
            },

            init() {
                // Create main elements
                this.elements.main = document.createElement("div");
                this.elements.keysContainer = document.createElement("div");
                // Setup main elements
                this.elements.main.classList.add("keyboard", "keyboard--hidden");
                this.elements.keysContainer.classList.add("keyboard__keys");
                this.elements.keysContainer.appendChild(this._createKeys());

                this.elements.keys = this.elements.keysContainer.querySelectorAll(".keyboard__key");

                // Add to DOM
                this.elements.main.appendChild(this.elements.keysContainer);
                document.body.appendChild(this.elements.main);

                // Popout the keyboard for elements with class "use"
                document.querySelectorAll(".use").forEach(element => {
                    element.addEventListener("focus", () => {
                        this.open(element.value, currentValue => {
                            element.value = currentValue;
                        });
                    })
                })
            },

            _createKeys() {
                const fragment = document.createDocumentFragment();
                const keyLayout = [
                    "1", "2", "3", "4", "5", "6", "7", "8", "9", "0", "backspace",
                    "q", "w", "e", "r", "t", "y", "u", "i", "o", "p",
                    "caps", "a", "s", "d", "f", "g", "h", "j", "k", "l", "enter",
                    "done", "z", "x", "c", "v", "b", "n", "m", ",", ".", "?",
                    "space"
                ];

                // Creates HTML for an icon
                const createIconHTML = (icon_name) => {
                    return `<i class="material-icons">${icon_name}</i>`;
                };
                
                keyLayout.forEach(key => {
                    const keyElement = document.createElement("button");
                    const insertLineBreak = ["backspace", "p", "enter", "?"].indexOf(key) !== -1;
                    
                    // Add attributes/classes
                    keyElement.setAttribute("type", "button");
                    keyElement.classList.add("keyboard__key");
                    
                    switch (key) {
                        case "backspace":
                            keyElement.classList.add("keyboard__key--wide");
                            keyElement.innerHTML = createIconHTML("backspace");
                            
                            keyElement.addEventListener("click", () => {
                                this.properties.value = this.properties.value.substring(0, this.properties.value.length - 1);
                                this._triggerEvent("oninput");
                            });
                            
                            break;
                        
                        case "caps":
                            keyElement.classList.add("keyboard__key--wide", "keyboard__key--activatable");
                            keyElement.innerHTML = createIconHTML("keyboard_capslock");
                            
                            keyElement.addEventListener("click", () => {
                                this._toggleCapsLock();
                                keyElement.classList.toggle("keyboard__key--active", this.properties.capsLock);
                            });
                            
                            break;
                            
                        case "enter":
                            keyElement.classList.add("keyboard__key--wide");
                            keyElement.innerHTML = createIconHTML("keyboard_return");
                            
                            keyElement.addEventListener("click", () => {
                                this.properties.value += "\n";
                                this._triggerEvent("oninput");
                            });
                            
                            break;
                        
                        case "space":
                            keyElement.classList.add("keyboard__key--extra-wide");
                            keyElement.innerHTML = createIconHTML("space_bar");
                            
                            keyElement.addEventListener("click", () => {
                                this.properties.value += " ";
                                this._triggerEvent("oninput");
                            });
                            
                            break;
                        
                        case "done":
                            keyElement.classList.add("keyboard__key--wide", "keyboard__key--dark");
                            keyElement.innerHTML = createIconHTML("check_circle");
                            
                            keyElement.addEventListener("click", () => {
                                this.close();
                                this._triggerEvent("onclose");
                            });
                            
                            break;
                        
                        default:
                            keyElement.textContent = key.toLowerCase();
                            
                            keyElement.addEventListener("click", () => {
                                this.properties.value += this.properties.capsLock ? key.toUpperCase() : key.toLowerCase();
                                this._triggerEvent("oninput");
                            });
                            
                            break;
                    }
                    
                    fragment.appendChild(keyElement);
                    
                    if (insertLineBreak) {
                        fragment.appendChild(document.createElement("br"));
                    }
                });
                
                return fragment;
            },
            
            _triggerEvent(handlerName) {
                if (typeof this.eventHandlers[handlerName] === "function") {
                    this.eventHandlers[handlerName](this.properties.value);
                }
                // console.log(handlerName + " triggered");
            },

            _toggleCapsLock() {
                this.properties.capsLock = !this.properties.capsLock;

                for (const key of this.elements.keys) {
                    if (key.childElementCount === 0) {
                        key.textContent = this.properties.capsLock ? key.textContent.toUpperCase() : key.textContent.toLowerCase();
                    }
                }
            },

            open(initialValue, oninput, onclose) {
                this.properties.value = initialValue || "";
                this.eventHandlers.oninput = oninput;
                this.eventHandlers.onclose = onclose;
                this.elements.main.classList.remove("keyboard--hidden");
            },

            close() {
                this.properties.value = "";
                this.eventHandlers.oninput = oninput;
                this.eventHandlers.onclose = onclose;
                this.elements.main.classList.add("keyboard--hidden");
            },
        };

        window.addEventListener("DOMContentLoaded", function () {
            Keyboard.init();
            // Keyboard.open("jogata", function (currentValue) {
            //     console.log("value changed: " + currentValue);
            // }, function (currentValue) {
            //     console.log("keyboard closed. Value: " + currentValue);
            // });
        });

    </script>
    <!-- ---------------------------------------------------------------------------------------------------------------- -->


    <!-- observer pattern -->
    <script>
        function Subject() {
            this.observers = [];
        }

        Subject.prototype = {
            subscribe: function (func) {
                this.observers.push(func);
            },
            unsubscribe: function (func) {
                this.observers = this.observers.filter(x => {
                    if (x != func) {
                        return func;
                    }
                });
            },
            fire: function () {
                this.observers.forEach(func => func.call());
            },
        }

        const subject = new Subject();
        subject.subscribe(observer1);
        subject.subscribe(observer2);
        subject.unsubscribe(observer1);

        subject.fire();

        function observer1() {
            console.log("observer1 fire");
        }
        function observer2() {
            console.log("observer2 fire");
        }
    </script>

    <!-- proxy pattern -->
    <script>
        ////////////////////////////////////////////////
        // simulation of External API
        function CryptocurrencyAPI() {
            this.getValue = function (coin) {
                console.log("<<Send GET request to the CryptocurrencyAPI >>");
                switch(coin) {
                    case "Bitcoin": 
                    return "$3,500";
                    case "Litecoin": 
                    return "$50";
                    case "Etherium": 
                    return "$175";
                }
            };
        }
        ////////////////////////////////////////////////

        const api = new CryptocurrencyAPI();

        function send(coin) {
            return `The value of ${coin} is ${api.getValue(coin)}`;
        }
        
        console.log(send("Bitcoin"));
        console.log(send("Litecoin"));
        console.log(send("Etherium"));

        // Proxy
        function CryptocurrencyProxy() {
            this.api = new CryptocurrencyAPI();
            this.cashe = {};

            this.getValue = function (coin) {
                if (this.cashe[coin] == null) {
                    this.cashe[coin] = this.api.getValue(coin);
                }
                console.log(`Get the value of ${coin} from the cash`);
                return this.cashe[coin];
            }
        }

        const proxy = new CryptocurrencyProxy();

        console.log(proxy.getValue("Bitcoin"));
        console.log(proxy.getValue("Litecoin"));
        console.log(proxy.getValue("Etherium"));
        console.log(proxy.cashe);
        console.log(proxy.getValue("Etherium"));
    </script>

    <!-- builder pattern with constructor function -->
    <script>
        function Person(name, height, weight, gender) {
            this.name = name;
            this.height = height;
            this.weight = weight;
            this.gender = gender;
        }
        
        function PersonBuilder(name, gender) {
            this.name = name;
            this.gender = gender;
            
            this.setHeight = function (height) {
                this.height = height;
                return this;
            }
            
            this.setWeight = function (weight) {
                this.weight = weight;
                return this;
            }
            
            this.build = function () {
                return new Person(this.name, this.height, this.weight, this.gender);
            }
        }
        
        const jogata = new PersonBuilder("Jogata", "male").setHeight(1.75).setWeight(60).build();
        console.log(jogata);
    </script>
    <!-- builder pattern with class -->
    <script>
        class Address {
            constructor (zip, street) {
                this.zip = zip;
                this.street = street
            }
        }

        class User {
            constructor (name, age, phone, address) {
                this.name = name;
                this.age = age;
                this.phone = phone;
                this.address = address;
            }
        }

        class UserBuilder {
            constructor (name) {
                this.user = new User(name);
            }

            setAge(age = 20) {
                this.user.age = age;
                return this;
            }

            setPhone(phone = "+359") {
                this.user.phone = phone;
                return this;
            }

            setAddress(address = "bulgaria") {
                this.user.address = address;
                return this;
            }

            build() {
                return this.user;
            }
        }

        let user = new UserBuilder("Jogata").setAge(43).setPhone("+359000000000").setAddress().build();
        console.log(user);
    </script>


    <div class="slider2">
        <div class="slide current">
            <div class="content">
                <h2>Civita di Bagnoregio, Italy</h2>
                <p>Civita Bagnoregio is considered one of the most beautiful villages in Italy and every year it is visited by thousands of thousands of people who come from all over the world to admire its timeless appearance and the magical aspect that can be perceived walking through its narrow alleys.</p>
            </div>
        </div>
        <div class="slide">
            <div class="content">
                <h2>Nuremberg, Germany</h2>
                <p><p>Impressive, exciting, colourful, mighty and tragic: Nuremberg has reflected German history since the Middle Ages. Protected by the castle, a new spirit enlivened the city at a time when few other places could offer such a quality of life.</p>
            </div>
        </div>
        <div class="slide">
            <div class="content">
                <h2>Edinburgh, Scotland</h2>
                <p>Edinburgh's beauty is both staggering and stunning - but the city is more than just a pretty face. Take a closer look and discover the city's fantastic stories.</p>
            </div>
        </div>
        <div class="slide">
            <div class="content">
                <h2>slide four</h2>
                <p>Lorem ipsum dolor, sit amet consectetur adipisicing elit. Qui eos, sed eligendi animi quisquam error voluptates accusantium, nihil fugit dolorum laboriosam expedita laborum non officia quidem vel, rem soluta fuga et vero doloribus! Distinctio nesciunt, inventore et facere eius architecto expedita veritatis fuga molestiae nemo laboriosam optio minus aspernatur doloremque.</p>
            </div>
        </div>
        <div class="slide">
            <div class="content">
                <h2>slide five</h2>
                <p>Lorem ipsum dolor, sit amet consectetur adipisicing elit. Qui eos, sed eligendi animi quisquam error voluptates accusantium, nihil fugit dolorum laboriosam expedita laborum non officia quidem vel, rem soluta fuga et vero doloribus! Distinctio nesciunt, inventore et facere eius architecto expedita veritatis fuga molestiae nemo laboriosam optio minus aspernatur doloremque.</p>
            </div>
        </div>
        <div class="slide">
            <div class="content">
                <h2>Pisa, Italy</h2>
                <p>Rising on the banks of the Arno river, it is one of the most important Tuscan cities and certainly the most surprising.</p>
            </div>
        </div>
        <div class="buttons">
            <button id="prev">
                <i class="fa fa-arrow-left" aria-hidden="true"></i>
            </button>
            <button id="next">
                <i class="fa fa-arrow-right" aria-hidden="true"></i>
            </button>
        </div>
    </div>

    <script>
        (function setSliderButtons() {
            const sliders = document.querySelectorAll(".slide");
            const nextButton = document.querySelector("#next");
            const prevButton = document.querySelector("#prev");
            let currentIndex = Array.from(sliders).findIndex(slide => slide.classList.contains("current"));

            nextButton.addEventListener("click", nextSlide);
            prevButton.addEventListener("click", prevSlide);

            function nextSlide() {
                currentIndex++;
                if (currentIndex >= sliders.length) {
                    currentIndex = 0;
                }
                document.querySelector(".current").classList.remove("current");
                sliders[currentIndex].classList.add("current");
            };
            
            function prevSlide() {
                currentIndex--;
                if (currentIndex < 0) {
                    currentIndex = sliders.length - 1;
                }
                document.querySelector(".current").classList.remove("current");
                sliders[currentIndex].classList.add("current");
            };
        }());
    </script>

    <!-- <header id="top">
        <nav class="navbar">
            <a href="#top" class="logo">adventure</a>
            <ul class="nav-links">
                <li class="link active"><a href="#h">home</a></li>
                <li class="link"><a href="#t">tours</a></li>
                <li class="link"><a href="#e">explore</a></li>
                <li class="link"><a href="#a">about</a></li>
                <li class="link"><a class="ctn" href="#c">contact</a></li>
            </ul>
        </nav>
        
        <div class="header-content">
            <h1>a wonderful gift</h1>
            <div class="line"></div>
            <h2>explore the colorful world</h2>
            <a href="#top" class="ctn">learn more</a>
        </div>
    </header> -->

    <!-- <div class="image-slider">
        <div class="slider-container">
            <div class="slide">
                <h1>slide 1</h1>
            </div>
            <div class="slide">
                <h1>slide 2</h1>
            </div>
            <div class="slide">
                <h1>slide 3</h1>
            </div>
            <div class="slide">
                <h1>slide 4</h1>
            </div>
        </div>
        <button class="arrow left">
            <i class="fa fa-chevron-left" aria-hidden="true"></i>
        </button>
        <button class="arrow right">
            <i class="fa fa-chevron-right" aria-hidden="true"></i>
        </button>
    </div> -->

    <!-- <script>
        const container = document.querySelector(".slider-container");
        const slides = document.querySelectorAll(".slide");
        const leftArrow = document.querySelector(".left");
        const rightArrow = document.querySelector(".right");

        let offset = 0;
        let slideIncrement = 0;
        let slideDecrement = slides.length - 1;

        leftArrow.addEventListener("click", function () {
            leftArrow.disabled = true;
            offset = slides[0].offsetWidth;
            container.style.transition = "none";
            if (slideDecrement < 0) {
                slides.forEach(slide => {
                    slide.style.order = "initial";
                });
                slideIncrement = slides.length - 1;
            }
            slides[slideDecrement].style.order = "-1";
            container.style.left = -offset + "px";
            setTimeout(() => {
                container.style.transition = "ease-in-out 0.5s";
                container.style.left = 0;
            }, 1);
            setTimeout(() => {
               slideDecrement--;
               slideIncrement = slideDecrement + 1;
               leftArrow.disabled = false; 
            }, 500);
        });

        rightArrow.addEventListener("click", function () {
            rightArrow.disabled = true;
            offset = slides[0].offsetWidth;
            container.style.transition = "ease-in-out 0.5s";
            container.style.left = -offset + "px";
            setTimeout(() => {
                container.style.transition = "none";
                slides[slideIncrement].style.order = slides.length - 1;
                container.style.left = 0;
                slideIncrement++;
                slideDecrement = slideIncrement - 1;
                if (slideDecrement === slides.length) {
                    slideIncrement = 0;
                    slides.forEach(slide => {
                        slide.style.order = "initial";
                    });
                }
                rightArrow.disabled = false;
            }, 500);
        });
    </script> -->


    <div class="container">
        <main>
            <div class="intro">
                <h1>10,000+ of our users love our products.</h1>
    
                <p class="lead">We only provide great products combined with excellent customer service. See what our satisfied customers are saying about our services.</p>
            </div>
    
            <ul class="ratings">
                <li class="rating">
                    <div>
                        <i class="fa fa-star" aria-hidden="true"></i>
                        <i class="fa fa-star" aria-hidden="true"></i>
                        <i class="fa fa-star" aria-hidden="true"></i>
                        <i class="fa fa-star" aria-hidden="true"></i>
                        <i class="fa fa-star" aria-hidden="true"></i>
                    </div>
                    Rated 5 Stars in Reviews</li>
                <li class="rating">
                    <div>
                        <i class="fa fa-star" aria-hidden="true"></i>
                        <i class="fa fa-star" aria-hidden="true"></i>
                        <i class="fa fa-star" aria-hidden="true"></i>
                        <i class="fa fa-star" aria-hidden="true"></i>
                        <i class="fa fa-star" aria-hidden="true"></i>
                    </div>
                    Rated 5 Stars in Report Guru</li>
                <li class="rating">
                    <div>
                        <i class="fa fa-star" aria-hidden="true"></i>
                        <i class="fa fa-star" aria-hidden="true"></i>
                        <i class="fa fa-star" aria-hidden="true"></i>
                        <i class="fa fa-star" aria-hidden="true"></i>
                        <i class="fa fa-star" aria-hidden="true"></i>
                    </div>
                    Rated 5 Stars in BestTech</li>
            </ul>
    
            <ul class="quotes split">
                <li>
                    <blockquote>
                        <div class="split a-center">
                            <img src="../../../../CSS/assets/img/profile-copy.jpg" alt="colton's profile picture"/>
                            <div>
                                <p class="name">Colton Smith</p>
                                <p class="status">Verified Buyer</p>
                            </div>
                        </div>
                        <p class="quote">
                            "We needed the same printed design as the one we had ordered a week prior. Not only did they find the original order, but we also received it in time. Excellent!"
                        </p>
                    </blockquote>
                </li>
                <li>
                    <blockquote>
                        <div class="split a-center">
                            <img src="../../../../CSS/assets/img/profile-copy.jpg" alt="irene's profile picture"/>
                            <div>
                                <p class="name">Irene Roberts</p>
                                <p class="status">Verified Buyer</p>
                            </div>
                        </div>
                        <p class="quote">
                            "Customer service is always excellent and very quick turn around. Completely delighted with the simplicity of the purchase and the speed of delivery."
                        </p>
                    </blockquote>
                </li>
                <li>
                    <blockquote>
                        <div class="split a-center">
                            <img src="../../../../CSS/assets/img/profile-copy.jpg" alt="anne's profile picture"/>
                            <div>
                                <p class="name">Anne Wallace</p>
                                <p class="status">Verified Buyer</p>
                            </div>
                        </div>
                        <p class="quote">
                            "Put an order with this company and can only praise them for the very high standard. Will definitely use them again and recommend them to everyone!"
                        </p>
                    </blockquote>
                </li>
            </ul>
        </main>
    </div>
    
    <script src="./js/script_travel_v2.js"></script>
</body>
</html>