<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Travel v.2</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="./css/styles-travel-v2.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Abril+Fatface&family=Courgette&family=Dancing+Script:wght@400;700&family=Great+Vibes&family=Josefin+Sans:wght@300;400;600&family=Limelight&family=Lobster&family=Montserrat:wght@300;400;600&family=Oleo+Script+Swash+Caps:wght@400;700&family=Poppins:wght@300;400;700;800&family=Raleway:ital,wght@0,400;1,300;1,600&display=swap');
@import url('https://fonts.googleapis.com/css2?family=Fraunces:opsz@9..144&family=Kaushan+Script&family=Playfair+Display&display=swap');

/* 
font-family: 'Abril Fatface', cursive;
font-family: 'Courgette', cursive;
font-family: 'Dancing Script', cursive;
font-family: 'Great Vibes', cursive;
font-family: 'Josefin Sans', sans-serif;
font-family: 'Limelight', cursive;
font-family: 'Lobster', cursive;
font-family: 'Montserrat', sans-serif;
font-family: 'Oleo Script Swash Caps', cursive;
font-family: 'Poppins', sans-serif;
font-family: 'Raleway', sans-serif;
font-family: 'Kaushan Script', cursive;
font-family: 'Fraunces', serif;
font-family: 'Playfair Display', serif;
*/

        * {
            margin: 0;
            padding: 0;
        }
        *, *::before, *::after {
            box-sizing: border-box;
        }

        body {
            color: #fff;
            background-color: #000;

            --img-offset: -50px;
            --text-offset: -120px;
        }

        .wrapper {
            position: relative;
        }

        h1 {
            position: absolute;
            top: 35vh;
            width: 100%;
            font-size: 10vw;
            font-family: 'Kaushan Script', cursive;
            text-transform: uppercase;
            text-align: center;
        }

        .landscape {
            width: 100%;
        }
        .bush, .house {
            position: absolute;
            bottom: var(--img-offset);
        }
        .bush {
            left: 0;
        }
        .house {
            width: 40%;
            right: 0;
        }

        .bottom {
            position: relative;
            display: flex;
            background-color: rgba(0,0,0,0.5);
            box-shadow: 0px -1px 46px 15px #000;
        }

        .bottom p {
            padding: 20px;
        }

        .fog-container {
            position: absolute;
            width: 100%;
            height: 100%;
            overflow: hidden;
            z-index: 1;
        }

        .fog-img {
            position: absolute;
            width: 300vw;
            height: 100%;
            z-index: 2;
        }
        .fog-img-first {
            background-image: url("./00/img/fog-1.png");
            background-repeat: repeat-x;
            background-position: center;
            background-size: contain;
            animation: marquee 60s linear infinite alternate;
        }
        .fog-img-second {
            background-image: url("./00/img/fog-2.png");
            background-repeat: repeat-x;
            background-position: center;
            background-size: contain;
            animation: marquee 30s linear infinite alternate;
        }
        @keyframes marquee {
            0% {
                transform: translate3d(0, 0, 0);
            }
            100% {
                transform: translate3d(-200vw, 0, 0);
            }
        }
    </style>
</head>
<body>
    <div class="wrapper">
        <div class="fog-container">
            <div class="fog-img fog-img-first"></div>
            <div class="fog-img fog-img-second"></div>
        </div>
        <h1>nature</h1>
        <img src="./00/img/landscape.jpg" alt="Lake" class="landscape">
        <img src="./00/img/bush.png" class="bush">
        <img src="./00/img/house.png" alt="house" class="house">
    </div>
    <div class="bottom">
        <p>The bluest and clearest of the lakes near Salzburg, you can jump into Attersee and enjoy a wonderful dip. Surrounded by the mountains there are numerous walks and hikes, pristine farms and countryside. Seemingly off the tourist route, there are few of the tour groups found at other lakes in the region. The many public bathing areas, such as the one at Unterach am Attersee, provide food, watersports, shade, slides and shallow areas for children.</p>
        <p>It's hard to imagine getting closer to nature than sleeping on a lake. We enjoyed a weekend staying in a basic but completely adequate camping raft for two. We were provided with a canoe, which is the only way to reach your bed for the night, and some basic camping equipment. Marnemoende lake is beautiful and is bursting with wildlife. There is a village about an hour away by foot, but otherwise there is just peace and quiet and the most stunning sunrises to wake up to.</p>
        <p>Snowdonia is not just a land of mountains, but of wonderful lakes. Llyn Idwal is a beautiful, isolated lake backed by the cliffs rising above to the Devil's Kitchen, a high fissure in the rocks above. Parking at a car park at Ogwen Cottage on the A5, between Snowdon and Capel Curig, follow a lower footpath around the lake and admire the rugged landscape above. In good weather there is a challenging walk up to the Devil's Kitchen, following a rocky path. You can then scramble up to Llyn y Cwm, a small tan on the top, which is more satisfying for the effort and view than the lake, to then return on a knee-aching descent with stunning views.</p>
    </div>

    <script>
        const imgOffset = -50;
        const speed = 4; // higher nimber - slower parallax

        document.addEventListener("DOMContentLoaded", () => {
            const text = document.querySelector("h1");
            const bush = document.querySelector(".bush");
            const house = document.querySelector(".house");

            window.addEventListener("scroll", () => {
                const newImgOffset = imgOffset + window.scrollY / speed;
                if (newImgOffset < 0) {
                    house.style.bottom = `${newImgOffset}px`;
                    bush.style.bottom = `${newImgOffset}px`;
                }

                const newTextOffset = window.scrollY / 4;
                console.log(newTextOffset);
                    text.style.transform = `translateY(-${newTextOffset}px)`;
            })
        })

    </script>
    <!-- observer pattern -->
    <script>
        function Subject() {
            this.observers = [];
        }

        Subject.prototype = {
            subscribe: function (func) {
                this.observers.push(func);
            },
            unsubscribe: function (func) {
                this.observers = this.observers.filter(x => {
                    if (x != func) {
                        return func;
                    }
                });
            },
            fire: function () {
                this.observers.forEach(func => func.call());
            },
        }

        const subject = new Subject();
        subject.subscribe(observer1);
        subject.subscribe(observer2);
        subject.unsubscribe(observer1);

        subject.fire();

        function observer1() {
            console.log("observer1 fire");
        }
        function observer2() {
            console.log("observer2 fire");
        }
    </script>

    <!-- proxy pattern -->
    <script>
        ////////////////////////////////////////////////
        // simulation of External API
        function CryptocurrencyAPI() {
            this.getValue = function (coin) {
                console.log("<<Send GET request to the CryptocurrencyAPI >>");
                switch(coin) {
                    case "Bitcoin": 
                    return "$3,500";
                    case "Litecoin": 
                    return "$50";
                    case "Etherium": 
                    return "$175";
                }
            };
        }
        ////////////////////////////////////////////////

        const api = new CryptocurrencyAPI();

        function send(coin) {
            return `The value of ${coin} is ${api.getValue(coin)}`;
        }
        
        console.log(send("Bitcoin"));
        console.log(send("Litecoin"));
        console.log(send("Etherium"));

        // Proxy
        function CryptocurrencyProxy() {
            this.api = new CryptocurrencyAPI();
            this.cashe = {};

            this.getValue = function (coin) {
                if (this.cashe[coin] == null) {
                    this.cashe[coin] = this.api.getValue(coin);
                }
                console.log(`Get the value of ${coin} from the cash`);
                return this.cashe[coin];
            }
        }

        const proxy = new CryptocurrencyProxy();

        console.log(proxy.getValue("Bitcoin"));
        console.log(proxy.getValue("Litecoin"));
        console.log(proxy.getValue("Etherium"));
        console.log(proxy.cashe);
        console.log(proxy.getValue("Etherium"));
    </script>

    <!-- builder pattern with constructor function -->
    <script>
        function Person(name, height, weight, gender) {
            this.name = name;
            this.height = height;
            this.weight = weight;
            this.gender = gender;
        }
        
        function PersonBuilder(name, gender) {
            this.name = name;
            this.gender = gender;
            
            this.setHeight = function (height) {
                this.height = height;
                return this;
            }
            
            this.setWeight = function (weight) {
                this.weight = weight;
                return this;
            }
            
            this.build = function () {
                return new Person(this.name, this.height, this.weight, this.gender);
            }
        }
        
        const jogata = new PersonBuilder("Jogata", "male").setHeight(1.75).setWeight(60).build();
        console.log(jogata);
    </script>
    <!-- builder pattern with class -->
    <script>
        class Address {
            constructor (zip, street) {
                this.zip = zip;
                this.street = street
            }
        }

        class User {
            constructor (name, age, phone, address) {
                this.name = name;
                this.age = age;
                this.phone = phone;
                this.address = address;
            }
        }

        class UserBuilder {
            constructor (name) {
                this.user = new User(name);
            }

            setAge(age = 20) {
                this.user.age = age;
                return this;
            }

            setPhone(phone = "+359") {
                this.user.phone = phone;
                return this;
            }

            setAddress(address = "bulgaria") {
                this.user.address = address;
                return this;
            }

            build() {
                return this.user;
            }
        }

        let user = new UserBuilder("Jogata").setAge(43).setPhone("+359000000000").setAddress().build();
        console.log(user);
    </script>

    <section id="delete2"></section>
    <section id="delete3"></section>
    <section id="delete4"></section>

    <script src="./js/script_travel_v2.js">
        console.log(190>340);
        console.log(140);
    </script>
</body>
</html>