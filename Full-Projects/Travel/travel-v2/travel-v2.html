<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Travel v.2</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="./css/styles-travel-v2.css">
    <style>
        #speech-synthesis {
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-direction: column;
        }
        #speech-synthesis h1 {
            font-size: 3rem;
            text-transform: uppercase;
            margin-bottom: 2rem;
        }
        #speech-synthesis h2 {
            text-transform: capitalize;
        }
        #speech-synthesis label {
            text-transform: capitalize;
        }
        #speech-synthesis button {
            display: inline-block;
            margin-top: 2rem;
            margin-bottom: 2rem;
            padding: 0.4em 2em;
            text-transform: uppercase;
            border: 1px solid;
            border-radius: 1em;
        }
    </style>
</head>
<body>
    <!-- factory pattern -->
    <script src="./js/script_travel_v2.js"></script>

    <!-- observer pattern -->
    <script>
        function Subject() {
            this.observers = [];
        }

        Subject.prototype = {
            subscribe: function (func) {
                this.observers.push(func);
            },
            unsubscribe: function (func) {
                this.observers = this.observers.filter(x => {
                    if (x != func) {
                        return func;
                    }
                });
            },
            fire: function () {
                this.observers.forEach(func => func.call());
            },
        }

        const subject = new Subject();
        subject.subscribe(observer1);
        subject.subscribe(observer2);
        subject.unsubscribe(observer1);

        subject.fire();

        function observer1() {
            console.log("observer1 fire");
        }
        function observer2() {
            console.log("observer2 fire");
        }
    </script>

    <!-- proxy pattern -->
    <script>
        ////////////////////////////////////////////////
        // simulation of External API
        function CryptocurrencyAPI() {
            this.getValue = function (coin) {
                console.log("<<Send GET request to the CryptocurrencyAPI >>");
                switch(coin) {
                    case "Bitcoin": 
                    return "$3,500";
                    case "Litecoin": 
                    return "$50";
                    case "Etherium": 
                    return "$175";
                }
            };
        }
        ////////////////////////////////////////////////

        const api = new CryptocurrencyAPI();

        function send(coin) {
            return `The value of ${coin} is ${api.getValue(coin)}`;
        }
        
        console.log(send("Bitcoin"));
        console.log(send("Litecoin"));
        console.log(send("Etherium"));

        // Proxy
        function CryptocurrencyProxy() {
            this.api = new CryptocurrencyAPI();
            this.cashe = {};

            this.getValue = function (coin) {
                if (this.cashe[coin] == null) {
                    this.cashe[coin] = this.api.getValue(coin);
                }
                console.log(`Get the value of ${coin} from the cash`);
                return this.cashe[coin];
            }
        }

        const proxy = new CryptocurrencyProxy();

        console.log(proxy.getValue("Bitcoin"));
        console.log(proxy.getValue("Litecoin"));
        console.log(proxy.getValue("Etherium"));
        console.log(proxy.cashe);
        console.log(proxy.getValue("Etherium"));
    </script>

    <!-- builder pattern with constructor function -->
    <script>
        function Person(name, height, weight, gender) {
            this.name = name;
            this.height = height;
            this.weight = weight;
            this.gender = gender;
        }
        
        function PersonBuilder(name, gender) {
            this.name = name;
            this.gender = gender;
            
            this.setHeight = function (height) {
                this.height = height;
                return this;
            }
            
            this.setWeight = function (weight) {
                this.weight = weight;
                return this;
            }
            
            this.build = function () {
                return new Person(this.name, this.height, this.weight, this.gender);
            }
        }
        
        const jogata = new PersonBuilder("Jogata", "male").setHeight(1.75).setWeight(60).build();
        console.log(jogata);
    </script>
    <!-- builder pattern with class -->
    <script>
        class Address {
            constructor (zip, street) {
                this.zip = zip;
                this.street = street
            }
        }

        class User {
            constructor (name, age, phone, address) {
                this.name = name;
                this.age = age;
                this.phone = phone;
                this.address = address;
            }
        }

        class UserBuilder {
            constructor (name) {
                this.user = new User(name);
            }

            setAge(age = 20) {
                this.user.age = age;
                return this;
            }

            setPhone(phone = "+359") {
                this.user.phone = phone;
                return this;
            }

            setAddress(address = "bulgaria") {
                this.user.address = address;
                return this;
            }

            build() {
                return this.user;
            }
        }

        let user = new UserBuilder("Jogata").setAge(43).setPhone("+359000000000").setAddress().build();
        console.log(user);
    </script>

    <section id="speech-synthesis" style="display: none;">
        <h1>display the name</h1>
        <label for="fn">first name</label>
        <input type="text" name="fn" id="fn">
        <label for="fmn">first middle name</label>
        <input type="text" name="fmn" id="fmn">
        <label for="lmn">last middle name</label>
        <input type="text" name="lmn" id="lmn">
        <label for="ln">last name</label>
        <input type="text" name="ln" id="ln">
        <button>click</button>
        <h2 id="result"></h2>

        <script>
            const synth = window.speechSynthesis;

            const FName = document.getElementById("fn");
            const FMName = document.getElementById("fmn");
            const LMName = document.getElementById("lmn");
            const LName = document.getElementById("ln");
            const btn = document.querySelector("button");
            const displayPanel = document.getElementById("result");

            btn.addEventListener("click", displayName);

            function displayName() {
                const name = `${FName.value} ${FMName.value} ${LName.value} ${LMName.value}`;
                displayPanel.textContent = name;
                const yellThis = new SpeechSynthesisUtterance(name);
                synth.speak(yellThis);
            }
        </script>
    </section>

    <section id="delete3"></section>
    <section id="delete4">
        <nav class="navbar">
            <div class="container">
                <a href="./travel-v2.html" class="brand">SkillUp</a>
                <div class="menu">
                    <a href="./travel-v2.html" class="brand">SkillUp</a>
                    <div>
                        <a href="#">home</a>
                        <a href="#">about</a>
                        <a href="#">projects</a>
                        <a href="#">blog</a>
                    </div>
                    <a href="#" class="btn">sign up</a>
                </div>
                <button class="menu-btn">
                    <i class="fa fa-bars"></i>
                </button>
            </div>
        </nav>
        <main>
            <header>
                <img src="../../../Sliders/img/civita-di-bagnoregio-town_2500x1623.jpg" alt="">
                <div class="text">
                    <h1>SkillUp: Learn the Skills You Need to Succeed</h1>
                    <p>Lorem, ipsum dolor sit amet consectetur adipisicing elit. Debitis dolorum quis, sint delectus eveniet et repellendus, expedita, aliquam itaque eos facilis doloribus minus sapiente error! Sint quasi ea quam ratione!</p>
                    <a href="#" class="btn">start free trial</a>
                </div>
            </header>
            <div class="card">
                <img src="../../../Sliders/img/Edinburgh.jpg" alt="">
                <div class="text">
                    <h1>SkillShare: Learn from the Best in the Business</h1>
                    <p>Lorem ipsum, dolor sit amet consectetur adipisicing elit. Accusantium, ab suscipit! Dolor, porro quas recusandae, tempore earum laboriosam ipsa nobis error, quisquam quae neque quaerat! Officiis eum maiores vel sed.</p>
                    <a href="#" class="btn btn-secondary">Try it for free</a>
                </div>
            </div>
            <div class="card">
                <img src="../../../Sliders/img/mountain-in-meteora-greece_1920x1080.jpg" alt="">
                <div class="text">
                    <h1>Master Your Craft: Become an Expert in Your Field</h1>
                    <p>Lorem, ipsum dolor sit amet consectetur adipisicing elit. Iste, eveniet suscipit, voluptates provident nemo incidunt quae culpa repellendus similique quidem omnis enim, a sequi corporis quis quasi ratione perferendis tempora.</p>
                    <a href="#" class="btn">Join the community</a>
                </div>
            </div>
            <div class="card">
                <img src="../../../Sliders/img/neuschwanstein-castle-hd_2047x1364.jpg" alt="">
                <div class="text">
                    <h1>SkillStack: Build a Diverse Set of Skills for Success</h1>
                    <p>Lorem, ipsum dolor sit amet consectetur adipisicing elit. Distinctio, doloremque ducimus dolor veniam vitae omnis hic cum accusamus. Eum eaque repellat error totam, aperiam maiores corporis in porro, est voluptatibus, facilis reiciendis exercitationem laboriosam laborum adipisci reprehenderit assumenda dolore libero soluta amet. Provident consequuntur corrupti ipsum quisquam omnis, adipisci illo. Delectus dicta perspiciatis dolore excepturi dolor.</p>
                    <a href="#" class="btn btn-secondary">Explore features</a>
                </div>
            </div>
            <div class="card">
                <img src="../../../Sliders/img/toscana-italy.jpg" alt="">
                <div class="text">
                    <h1>Skills365: Learn Anutyme, Anywhere</h1>
                    <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Non autem ipsam fugiat eaque eos, libero ducimus. Omnis minima aliquid voluptate ratione quasi expedita distinctio, ad perferendis culpa officiis quis quas sapiente magni architecto vero.</p>
                    <a href="#" class="btn">Learn more</a>
                </div>
            </div>
        </main>
        <footer>
            <p>All rights reserved. 2023</p>
        </footer>

        <script>
            const menu = document.querySelector(".menu");
            const menuBtn = document.querySelector(".menu-btn");

            menuBtn.addEventListener("click", () => {
                menuBtn.firstElementChild.classList.toggle("fa-times");
                menu.classList.toggle("menu-open");
            })
        </script>
    </section>

    <script src="./js/script_travel_v2.js">
        console.log("342>252");
    </script>
</body>
</html>