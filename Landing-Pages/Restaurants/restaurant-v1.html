<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Restaurant v.1</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <!-- <link rel="stylesheet" href="./css/style_restaurant-v1.css"> -->
    <style>
        ol {
            display: inline-block;
            padding: 0 3em;
            color: greenyellow;
            font-size: 3rem;
            text-align: left;
        }
        body {
            color: #fff;
            text-align: center;
            background-image: url("https://dnd.wizards.com/assets/img/footer-background.png");
            background-size: cover;
            background-position: right;
        }

        span {
            opacity: 0.4;
        }

        input {
            display: block;
            margin: 0rem auto 2rem;
            padding: 1em;
            color: #fff;
            background-color: #000;
        }

        h1 {
            font-size: 2rem;
            text-transform: capitalize;
        }

        h2 {
            font-size: 4rem;
            color: coral;
        }
        h2::first-letter {
            text-transform: uppercase;
        }

        legend {
            margin: auto;
            padding: 0 0.4em;
            font-size: 2rem;
            text-align: center;
            text-transform: capitalize;
        }

        fieldset {
            width: fit-content;
            max-width: 60rem;
            margin: auto;
            border-radius: 1em;
        }

        button {
            color: #fff;
            padding: 0.6em 1em;
            font-size: 1.2rem;
            border-radius: 2em;
            background-color: transparent;
            border: 3px solid currentColor;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <!-- <div class="landing-page">
        <nav>
            <div class="logo">
                <a href="#top">
                    <div class="logo-ring"></div>
                    <div class="logo-ring"></div>
                    <div class="logo-ring"></div>
                    <div class="logo-ring"></div>
                </a>
            </div>
            <ul role="list">
                <li><a href="#top">home</a></li>
                <li><a href="#top">about</a></li>
                <li><a href="#top">contact</a></li>
                <li><a href="#top">info</a></li>
            </ul>
            <a href="#" class="btn">add to cart</a>
        </nav>
    </div> -->
<!-- https://github.com/sachinchoolur/lightslider -->
<span>Acid-Arrow</span>
<h1>choose spell:</h1>
<input type="text">
<button>Get Dungeons and Dragons data</button>
<h2>name</h2>
<h3>class</h3>
<fieldset>
    <legend>subclasses</legend>
    <ol type="I"></ol>
</fieldset>

<script>
    const but = document.querySelector("button");
    but.addEventListener("click", () => {
        const userReq = document.querySelector("input").value
        .toLowerCase()
        .split(" ")
        .join("-");

        console.log(userReq);

        const url = `https://www.dnd5eapi.co/api/spells/${userReq}`;
        const dd = fetch(url)
    .then(res => res.json())
    .then(data => {
        // console.log(data.subclasses);
        const parent = document.querySelector("ol");
        parent.textContent = "";
        data.subclasses.forEach(subclass => {
           console.log(subclass.name);
           const name = document.querySelector("h2");
           name.textContent = data.name;
           const li = document.createElement("li");
           li.textContent = subclass.name;
           parent.appendChild(li);
        });
    })
    .catch(err => {
        console.log(err);
    });
    })

    const apiKey = generateKey();
const itemURL = 'https://api.boot.dev/v1/courses_rest_api/learn-http/items';

async function start () {
    const items = await getData(itemURL);
    logItems(items);
}

start();

// don't touch below this line

async function getData(url) {
  const response = await fetch(url, {
    method: 'GET',
    mode: 'cors',
    headers: {
      'X-API-Key': apiKey,
      'Content-Type': 'application/json'
    }
  })
  return response.json();
}

function generateKey() {
  const characters = 'ABCDEF0123456789';
  let result = '';
  for (let i = 0; i < 16; i++){
    result += characters.charAt(Math.floor(Math.random() * characters.length))
  }
  return result;
}

function logItems(items) {
  for (const item of items) {
    console.log(item.name);
  } 
}
</script>
</body>
</html>