<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Webstore v.1</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="./css/styles_webstore-v1.css">
  <style>
    * {
      margin: 0px;
      padding: 0px;
      box-sizing: border-box;
    }
    *::before, *::after {
      padding: 0;
      margin: 0;
    }

    html {
      scrollbar-width: thin;
      scrollbar-color: #e39343 #212529;
    }

    img {
      width: 100%;
    }

    .container-global {
      position: relative;
      min-height: 100vh;
      display: flex;
    }

    body {
      background-color: #262626;
      font-family: Arial, Helvetica, sans-serif;
    }

  </style>
</head>
<body>
  <script>
    const doWork = (resolve, reject) => {
      setTimeout(() => {resolve("Hello World")}, 1000);
      // setTimeout(() => {reject("Error 404")}, 1000);
    };

    const doAnotherWork = (resolve, reject) => {
      setTimeout(() => {resolve("How are you?")}, 3000);
      // setTimeout(() => {reject("Error 404")}, 3000);
    };

    console.log(typeof doWork);

    // Primises
    let response = new Promise(doWork);

    response
    .then(text1 => {
      console.log(`1st log: ${text1}`);
      return text1;
    }, err => {
      console.log(`1st log: request was rejected with ${err}`);
    })
    .then(text2 => {
      console.log(`2nd log: ${text2} again`);
      return new Promise(doAnotherWork);
    }, err => {
      console.log(`2st log: request was rejected with ${err}`);
    })
    .then(text3 => {
      text3 = `3rd log: ${text3}`;
      console.log(text3);
    }, err => {
      console.log(`3st log: request was rejected with ${err}`);
    });

    // Async/Await
    async function doAllTheWork() {
      const text = new Promise(doWork);
      const text1 = await text;
      console.log(text1);

      const text2 = new Promise(doAnotherWork);
      const text3 = await text2;
      console.log(text3);
    }

    doAllTheWork();
    console.log("Done!");




    function Employee(firstName, lastName) {
      // Public Fields
      this.firstName = firstName;
      this.lastName = lastName;

      // Private Fields
      let privateFullName;

      // Private Function
      function privateGetFullName() {
        privateFullName = `${firstName} ${lastName}`;
        return privateFullName;
      }

      // Privileged Function
      // this.privilegedGetFullName = function () {
      //   return privateGetFullName();
      // }

      // Public Function
      Employee.prototype.publicGetFullName = function () {
        return privateGetFullName();
      }
    }

    console.log(Employee.hasOwnProperty("publicGetFullName"))
    console.log(Employee.hasOwnProperty("apply"))
    console.log(Employee.hasOwnProperty("call"))
    console.log(Employee.hasOwnProperty("bind"))
    console.log(Employee.hasOwnProperty("toString"))
    console.log(Employee.hasOwnProperty("arguments"))
    console.log(Employee.hasOwnProperty("caller"))

    console.log(Employee.hasOwnProperty("name"))
    console.log(Employee.hasOwnProperty("length"))
    console.log(Employee.hasOwnProperty("prototype"))
    
    const emp = new Employee("john", "wick");
    console.log("117");
    console.log(emp.publicGetFullName())
    console.log(typeof Employee.prototype.publicGetFullName) // function
    Employee.prototype.publicGetFullName = "softuni";
    console.log(typeof Employee.prototype.publicGetFullName) // string
    const emp2 = new Employee("ivet", "valcheva");
    console.log(typeof Employee.prototype.publicGetFullName) // function
    console.log("123");
    // console.log(emp.privilegedGetFullName());
    // console.log(emp2.publicGetFullName());

    console.log(emp);

    const EmployeeObj = {
      prototype: {
        thisis: "this is the prop prototype",
        publicGetFullName: function () {
          console.log(this.thisis);
        }
      },
    };

    EmployeeObj.prototype.publicGetFullName();

    // Create Private Property with IIFE and Closures
    const movie = (function () {
      let _title = "Starman";
      return {
        year: 1981,
        get title(){
          return _title;
        },
        set title(val){
          _title = val;
        }
      }
    })();

    console.log(movie.title)  // Starman
    console.log(movie.year)   // 1981
    movie.title = "The Big Lebowski";
    console.log(movie.title)  // The Big Lebowski
    console.log(movie._title) // undefined
  </script>
</body>
</html>