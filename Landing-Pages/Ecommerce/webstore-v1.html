<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Webstore v.1</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="./css/styles_webstore-v1.css">
</head>
<body>
  <div class="rating">
    <div class="big-star">
      <i class="fa fa-star"></i>
      <p class="selected-rating"></p>
    </div>
    <h3>Rate your experience with us</h3>
    <ul class="stars">
      <li class="star" data-value="1">
        <i class="fa fa-star"></i>
      </li>
      <li class="star" data-value="2">
        <i class="fa fa-star"></i>
      </li>
      <li class="star" data-value="3">
        <i class="fa fa-star"></i>
      </li>
      <li class="star" data-value="4">
        <i class="fa fa-star"></i>
      </li>
      <li class="star" data-value="5">
        <i class="fa fa-star"></i>
      </li>
    </ul>
    <p class="feedback-message"></p>
    <button type="button">submit rating</button>
  </div>

  <script>
    const bigStar = document.querySelector(".big-star i");
    const stars = document.querySelectorAll(".star");
    const ratingText = document.querySelector(".selected-rating");
    const feedbackMessage = document.querySelector(".feedback-message");
    const btn = document.querySelector("button");

    stars.forEach(star => {
      star.addEventListener("mouseenter", handleHover);
      star.addEventListener("mouseleave", HandleLeave);
      star.addEventListener("click", handleClick);
    })

    let rating = "";

    function highlightStars(rating) {
      stars.forEach((star, index) => {
        if (index < rating) {
          star.classList.add("selected");
        } else {
          console.log(rating);
          star.classList.remove("selected");
        }
      })
    }

    function geFeedbackMessage(rating) {
      switch (rating) {
        case '1': 
          return `<h2>Terrible</h2>
                  <p>We're sorry to hear that you had a bad experience.</p>`;
        case '2': 
          return `<h2>Not good.</h2>
                  <p>We'll do better next time to meet your expectations.</p>`;
        case '3': 
          return `<h2>It's okay.</h2>
                  <p>We appreciate your feedback and will use it to improve.</p>`;
        case '4': 
          return `<h2>Good!</h2>
                  <p>We're glad to hear that you enjoyed your experience.</p>`;
        case '5': 
          return `<h2>Excellent!</h2>
                  <p>We're thrilled to hear that you had a great experience with us.</p>`;
        default: 
        return '';
      }
    }

    function handleHover(e) {
      const rating = e.target.getAttribute("data-value");
      highlightStars(rating);
    }

    function HandleLeave() {
      highlightStars(rating);
    }

    function handleClick(e) {
      btn.style.display = "block";
      rating = e.currentTarget.getAttribute("data-value");
      bigStar.style.fontSize = `${1 + rating * 0.1}em`;
      ratingText.textContent = rating;
      feedbackMessage.innerHTML = geFeedbackMessage(rating);
      feedbackMessage.style.visibility = "visible";
      feedbackMessage.style.opacity = "1";
    }
  </script>
  <!-- <h1 style="position: absolute; z-index: 1; left: 10%; bottom: 10%; font-size: 3rem;">Object.entries(person) - convert object to array</h1> -->

  <script>
        // 06. Speed Info

        function displaySpeedInfo(input) {
      const speed = Number(input[0]);

      if (speed <= 10) {
        console.log("slow");
      } else if (speed <= 50) {
        console.log("average");
      } else if (speed <= 150) {
        console.log("fast");
      } else if (speed <= 1000) {
        console.log("ultra fast");
      } else {
        console.log("extremely fast");
      }
    }

    displaySpeedInfo(["8"]);
    displaySpeedInfo(["49.5"]);
    displaySpeedInfo(["126"]);
    displaySpeedInfo(["160"]);
    displaySpeedInfo(["3500"]);
  </script>

  <!-- <svg class="menu-bars" focusable="false" viewBox="0 0 24 24" aria-hidden="true" style="fill: rgb(255, 255, 255);"><path d="M318h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"></path></svg> -->
</body>
</html>