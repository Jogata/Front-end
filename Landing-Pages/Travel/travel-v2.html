<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Travel v.2</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="./css/styles-travel-v2.css">
</head>
<body>
    <section class="landing-page">
        <header>
            <div class="logo">
                <a href="#">logo
                    <img src="./img/travel-2/windsurfing-logo.png" alt="Logo">
                </a>
            </div>
            <nav>
                <ul>
                    <li><a href="#">shows</a></li>
                    <li><a href="#">video</a></li>
                    <li><a href="#">destinations</a></li>
                    <li><a href="#">lessons</a></li>
                    <li><a href="#">shop</a></li>
                </ul>
            </nav>
        </header>
        <main>
            <div class="slider">
                <div class="arrows-container">
                    <div class="arrows">
                        <i class="fa fa-location-arrow left" aria-hidden="true"></i>
                        <i class="fa fa-location-arrow right" aria-hidden="true"></i>
                    </div>
                </div>
                <div class="circle-slider">
                    <ul>
                        <li class="slide" data-index="1">
                            <button>famara beach</button>
                            <figure>
                                <img src="./img/travel-2/famara.png" alt="Island's map">
                                <figcaption>famara beach
                                    <span>
                                        <img src="./img/travel-2/map-marker.png" alt="">
                                        spain
                                    </span>
                                </figcaption>
                            </figure>
                        </li>
                        <li class="slide active" data-index="2">
                            <button>bingin beach</button>
                            <figure>
                                <img src="./img/travel-2/bali.png" alt="Island's map">
                                <figcaption>bingin beach
                                    <span>
                                        <img src="./img/travel-2/map-marker.png" alt="">
                                        bali, indonesia
                                    </span>
                                </figcaption>
                            </figure>
                        </li>
                        <li class="slide" data-index="3">
                            <button>pipa beach</button>
                            <figure>
                                <img src="./img/travel-2/pipa.png" alt="Island's map">
                                <figcaption>pipa beach
                                    <span>
                                        <img src="./img/travel-2/map-marker.png" alt="">
                                        brazil
                                    </span>
                                </figcaption>
                            </figure>
                        </li>
                    </ul>
                </div>
            </div>
            <div class="image-slider">
                <div class="image-container">
                    <img src="./img/travel-2/famara-bg.jpg" alt="Beach">
                </div>
                <div class="image-container active">
                    <img src="./img/travel-2/bali-bg.jpeg" alt="Beach">
                </div>
                <div class="image-container">
                    <img src="./img/travel-2/pipa-bg.jpg" alt="Beach">
                </div>
            </div>
        </main>
    </section>

    <script>
        const slides = document.querySelectorAll('.slide');
        slides.forEach((slide, index) => {
            slide.addEventListener('click', () => {
                const activeSlide = document.querySelector('.slide.active');
                activeSlide.classList.remove('active');
                slide.classList.add('active');
                const rotationIndex = slide.dataset.index - activeSlide.dataset.index;
                const slider = document.querySelector('.circle-slider');
                const styles = getComputedStyle(slider);
                let degrees = parseInt(styles.getPropertyValue('--angle'));
                degrees = degrees - 45 * rotationIndex;
                slider.style.setProperty('--angle' , `${degrees}deg`);
            })
        })

        const arrowButtonLeft = document.querySelector('.left');
        arrowButtonLeft.addEventListener('click', () => {
            const activeSlide = document.querySelector('.slide.active');
            if (activeSlide.previousElementSibling) {
                activeSlide.classList.remove('active');
                activeSlide.previousElementSibling.classList.add('active');
                const slider = document.querySelector('.circle-slider');
                const styles = getComputedStyle(slider);
                let degrees = parseInt(styles.getPropertyValue('--angle'));
                degrees = degrees + 45;
                slider.style.setProperty('--angle' , `${degrees}deg`);
            }
            else {
                console.log('nqma left');
            }
        })
        const arrowButtonRight = document.querySelector('.right');
        arrowButtonRight.addEventListener('click', () => {
            const activeSlide = document.querySelector('.slide.active');
            if (activeSlide.nextElementSibling) {
                activeSlide.classList.remove('active');
                activeSlide.nextElementSibling.classList.add('active');
                const slider = document.querySelector('.circle-slider');
                const styles = getComputedStyle(slider);
                let degrees = parseInt(styles.getPropertyValue('--angle'));
                degrees = degrees - 45;
                slider.style.setProperty('--angle' , `${degrees}deg`);
            }
            else {
                console.log('nqma right');
            }
        })
    </script>
</body>
</html>