<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BMW Bikes</title>
    <link rel="stylesheet" href="./css/styles-bmw.css">
</head>
<body>
    <div class="container">
        <nav>
            <a href="#" class="logo">
                <img src="./img/BMW/logo.png" alt="BMW logo">
            </a>
            <a href="#" class="btn">test drive</a>
        </nav>
        <div class="content">
            <div class="info">
                <h1>the bmw</h1>
                <h2>g 310 r</h2>
                <p>the strength of the G 310 R is in its lightness and agility. The Bike not only delivers fun in the big city tumilt, but also when you are redefining the city limits when changing corners quickly.</p>
                <h3>choose your color</h3>
                <div class="color-select">
                    <button class="color active" id="redbw"></button>
                    <button class="color" id="bluewr"></button>
                    <button class="color" id="blue"></button>
                    <button class="color" id="blackw"></button>
                    <button class="color" id="black"></button>
                    <button class="color" id="red"></button>
                </div>
            </div>
            <div class="hero">
                <img id="hero-image" src="./img/BMW/P90407654_highRes_the-new-bmw-g-310-r.jpg" alt="BMW G 310 R">
            </div>
        </div>
    </div>
    <script>
        const images = {
            redbw: {
                src: "./img/BMW/P90407654_highRes_the-new-bmw-g-310-r.jpg",
            },
            bluewr: {
                src: "./img/BMW/P90427039_highRes_bmw-g-310-r.jpg",
            },
            blue: {
                src: "./img/BMW/P90407658_highRes_the-new-bmw-g-310-r.jpg",
            },
            blackw: {
                src: "./img/BMW/P90407650_highRes_the-new-bmw-g-310-r.jpg",
            },
            black: {
                src: "./img/BMW/P90427035_highRes_bmw-g-310-r-cosmic-b.jpg",
            },
            red: {
                src: "./img/BMW/P90312740_highRes_bmw-g-310-r-racing-r.jpg",
            },
        }

        const colorButtons = document.querySelectorAll('.color');
        colorButtons.forEach(button => {
            button.addEventListener('click', () => {
                const color = button.id;
                const hero = document.querySelector('#hero-image');
                changeActiveButton(button);
                hero.classList.add('hidden', "will-paint");
                hero.addEventListener("transitionend", () => {
                    hero.addEventListener("load", () => {
                        // force the browser to paint
                        hero.classList.remove("will-paint");
                        // show the new image
                        hero.addEventListener("transitionend", () => {
                            hero.classList.remove("hidden");
                        }, {once: true})
                    }, {once: true})
                    hero.src = images[color].src;
                }, {once: true})
            })
        })

        function changeActiveButton(newButton) {
            const currentActiveButton = document.querySelector('.color.active');
            currentActiveButton.classList.remove('active');
            newButton.classList.add('active');
        }

    </script>
</body>
</html>